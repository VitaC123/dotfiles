#!/bin/bash

VERSION=${1:-'v4'}

case $VERSION in
    v3) command="puppet master
        --confdir=$PUPPETLABS_CONF/master/$VERSION/conf
        --vardir=$PUPPETLABS_CONF/master/$VERSION/var
        --autosign=true
        --no-daemonize
        --debug
        --verbose
        --certname localhost"
        ;;

    v4) command="puppet master
        --codedir=$PUPPETLABS_CONF/master/$VERSION/code
        --confdir=$PUPPETLABS_CONF/master/$VERSION/conf
        --vardir=$PUPPETLABS_CONF/master/$VERSION/var
        --logdir=$PUPPETLABS_CONF/master/$VERSION/var/log
        --rundir=$PUPPETLABS_CONF/master/$VERSION/var/run
        --autosign=true
        --no-daemonize
        --debug
        --verbose
        --certname localhost"
        ;;

    *) echo "Unrecognized version"
       ;;
esac

echo $command
echo -n $command | pbcopy
